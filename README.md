# TikTok to MP4 変換器

TikTokの動画URLを入力してMP4形式でダウンロードできるWebアプリケーションです。

## 機能

- 🎵 TikTok動画をMP4形式に変換
- 📥 高品質でウォーターマークなしのダウンロード
- 🔄 自動的なファイル名生成
- 📱 レスポンシブデザイン
- ⚡ 高速変換
- 🔒 セキュリティ強化（CORS制御、パストラバーサル対策）
- 🧹 自動ファイルクリーンアップ

## インストールと実行

1. 依存関係をインストール:
```bash
npm install
```

2. サーバーを起動:
```bash
npm start
```

または開発モード:
```bash
npm run dev
```

3. ブラウザで `http://localhost:3000` にアクセス

### 環境変数（任意）

- `ALLOWED_ORIGINS`: CORS許可するオリジンをカンマ区切りで指定（未指定なら同一オリジンのみ）
- `MAX_FILE_SIZE_MB`: ダウンロードを許可する最大サイズ（MB, デフォルト80）
- `FILE_TTL_MINUTES`: ダウンロードファイルの保持時間（分, デフォルト30）
- `DELETE_AFTER_DOWNLOAD`: `false` にするとダウンロード後にファイルを削除しない（デフォルトは削除する）

## 使用方法

1. TikTokアプリまたはWebサイトで動画を開く
2. 「共有」ボタンをタップして「リンクをコピー」を選択
3. Webアプリの入力欄にURLを貼り付け
4. 「変換開始」ボタンをクリック
5. 変換完了後、MP4ファイルをダウンロード

## ファイル名生成ルール

変換後のファイル名は以下の形式で自動生成されます：
`{動画タイトル}_{タイムスタンプ}_{ランダムID}.mp4`

例: `funny_dance_2024-01-15T10-30-45_a1b2c3d4.mp4`

## 技術スタック

- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **バックエンド**: Node.js, Express.js
- **その他**: Axios, UUID, CORS

## セキュリティ機能

- **CORS制御**: 環境変数で許可するオリジンを制限可能
- **パストラバーサル対策**: ファイルパスの検証により不正アクセスを防止
- **ファイルサイズ制限**: 大きすぎるファイルのダウンロードを防止
- **URL検証**: TikTok公式ドメインのみを許可
- **自動クリーンアップ**: 古いファイルを定期的に削除

## 注意事項

- このアプリは個人利用のみを目的としています
- TikTokの利用規約を遵守してください
- 著作権で保護されたコンテンツの無断ダウンロードは控えてください

## ライセンス

MIT License
